{"ast":null,"code":"var _jsxFileName = \"/Users/luksi/Rockrepo/Rockr/client/src/pages/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Link, useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n  //Variables for user input\n  const [uNameInput, setUName] = useState(\"\");\n  const [passInput, setPassword] = useState(\"\");\n\n  //Variable for value returned from the backend\n  const [loginMessage, setLoginMessage] = useState(\"\");\n\n  //handle changes to username and password input\n  const handleUsernameChange = event => {\n    setUName(event.target.value);\n  };\n  const handlePasswordChange = event => {\n    setPassword(event.target.value);\n  };\n  const navigate = useNavigate();\n  //function to login. When 'Log In' button is pressed, the inputs are sent to the backend. \n  //If the login info matches a user in the database, the user will be sent to the home page.\n  const submitLogin = event => {\n    event.preventDefault();\n    const loginQuery = {\n      username: uNameInput,\n      password: passInput\n    };\n    fetch('http://localhost:8000/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(loginQuery) //sent as a JSON string\n    }).then(res => res.json()).then(data => {\n      if (data.response == \"accepted\") {\n        setLoginMessage(\"login accepted. Going to home...\");\n        localStorage.setItem('token', data.token);\n        navigate(\"/Home\");\n      } else {\n        setLoginMessage(\"Login rejected. Please enter valid credentials...\");\n      }\n    }).catch(error => console.error(error));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Welcome to the Login Page!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Need an account?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/CreateAccount\",\n      children: \"Create Account\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"userInputText\",\n        name: \"userInputText\",\n        placeholder: \"Username\",\n        onChange: handleUsernameChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"passInputText\",\n        name: \"passInputText\",\n        placeholder: \"Password\",\n        onChange: handlePasswordChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: submitLogin,\n        children: \"Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: loginMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n}\n_s(Login, \"sO5D6WAHDwAydtNHI4wXs6rpHd8=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","Link","useNavigate","jsxDEV","_jsxDEV","Login","_s","uNameInput","setUName","passInput","setPassword","loginMessage","setLoginMessage","handleUsernameChange","event","target","value","handlePasswordChange","navigate","submitLogin","preventDefault","loginQuery","username","password","fetch","method","headers","body","JSON","stringify","then","res","json","data","response","localStorage","setItem","token","catch","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","to","type","id","name","placeholder","onChange","onClick","_c","$RefreshReg$"],"sources":["/Users/luksi/Rockrepo/Rockr/client/src/pages/Login.js"],"sourcesContent":["import React, {useState} from \"react\";\nimport { Link, useNavigate } from 'react-router-dom';\nexport default function Login() {\n    //Variables for user input\n    const [uNameInput, setUName] = useState(\"\");\n    const [passInput, setPassword] = useState(\"\");\n    \n    //Variable for value returned from the backend\n    const [loginMessage, setLoginMessage] = useState(\"\");\n\n    //handle changes to username and password input\n    const handleUsernameChange = (event) => {\n        setUName(event.target.value);\n    }\n    const handlePasswordChange = (event) => {\n        setPassword(event.target.value);\n    }\n\n    const navigate = useNavigate();\n    //function to login. When 'Log In' button is pressed, the inputs are sent to the backend. \n    //If the login info matches a user in the database, the user will be sent to the home page.\n    const submitLogin = (event) => {\n        event.preventDefault();\n        const loginQuery = {\n            username: uNameInput,\n            password: passInput\n        };\n        fetch('http://localhost:8000/login', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(loginQuery), //sent as a JSON string\n            })\n            .then(res => res.json())\n            .then(data => {\n                if (data.response == \"accepted\") {\n                    setLoginMessage(\"login accepted. Going to home...\");\n                    localStorage.setItem('token', data.token);\n                    navigate(\"/Home\");\n                }\n                else {\n                    setLoginMessage(\"Login rejected. Please enter valid credentials...\");\n                }\n            })\n            .catch(error => console.error(error));\n    }\n\n    return (\n        <div>\n            <h1>Welcome to the Login Page!</h1>\n            <p>Need an account?</p>\n            <Link to=\"/CreateAccount\">Create Account</Link>\n            <div>\n                <input type=\"text\" id=\"userInputText\" name=\"userInputText\" placeholder=\"Username\" onChange={handleUsernameChange} />\n                <input type=\"text\" id=\"passInputText\" name=\"passInputText\" placeholder=\"Password\" onChange={handlePasswordChange} />\n                <button onClick={submitLogin}>Log In</button>\n            </div>\n            <p>{loginMessage}</p>\n        </div>\n    )\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}